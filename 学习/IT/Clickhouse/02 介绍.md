# 02 介绍

## 概念

Clickhouse 是 C++ 编写的 OLAP 列式存储数据库。

1. OLAP 离线数据处理
   1. 适用于数据分析
   1. 数据吞吐高
   1. 查询、计算性能快
   1. 不擅长变更
   1. 可以做数据仓库（实时、离线【MapReduce, Spark】）
1. OLTP 在线事务处理
   1. 注重数据的完整性
   1. 适合频繁地数据改动

## 列式存储

列式存储：Hbase（伪列式，列簇），Druid德鲁伊数据库，InfiniDB

1. 行式存储
   1. 以一行数据进行存储
   1. 一个B+树叶子节点保留一行数据
   1. OLTP使用行式存储，事务、数据完整性 => 如果使用列式则需要跨多个文件
1. 列式存储（Clickhouse）
   1. 存储结构：每一个表为一个目录，表里的每一列在对应表目录里面为一个文件
   1. 数据分析通常针对一个列来做，比如这一列的最大与最小值

> 数据库排行榜：db_engines.com

## 适用场景

- 读多写少（集中导入，批量整体更新，少修改）
- 数据量大
- 对事务要求非必须（脱离不了OLTP数据库，因为需要事务、需要数据的完整性）

数据吞吐量大，能以水平扩展方式扩容<br />
查询效率高，上千万行、数百列的测试数据<br />
资源消耗大（内存、CPU），查询频率不宜过高，建议单独部署，不要与其他服务一同部署

适用于“独立的”后端数仓
